1. #### 虚拟内存

   由于局部性原理的存在，作业在开始运行时只需要把**最近用到的**页加载到内存中，暂时用不到的页先放在外存。当作业运行过程中发现某个页不在内存中时，就产生缺页中断，程序阻塞，由操作系统将缺失的页调入内存，并在内存中为页分配页框。如果内存空间足够，就直接调入，否则就需要在内存中进行**页面置换**将某些页调到外存。这样在用户看来，他正在使用一个比实际内存大的多的内存，所以称为虚拟内存。

   ##### 虚拟内存解决的问题

   虚拟内存是对传统内存分配方式的改进，传统内存分配(不论是连续内存分配还是离散内存分配)有一下特点：

   1. 一次性
      一次性就是说，作业想运行必须把作业所有的页全部载入内存，随之而来的两个问题就是：**大作业**无法载入到内存，因为内存容量已经无法满足大作业，导致大作业无法运行；**当大量作业需要运行时，内存容量无法满足要求**，因此只能有少量的作业能够运行，导致程序并发度下降。
   2. 驻留性
      驻留性是指作业一旦载入到内存，就一直驻留在内存中，知道作业运行技术。但是，根据程序的局部性原理，作业在运行期间内的某个时间段只会访问某些页，其他的页在很长一段时间内用不到，这就导致内存中驻留大量暂时用不到的页，内存利用率不高。

   ##### 虚拟内存容量

   虚拟内存容量受到**地址结构的最大寻址范围、物理内存大小、外存大小的限制**。
   假设是64位机器，虚拟内存容量的最大值就是2的64次方，这是地址结构的最大寻址范围。
   假设现在机器物理内存是8G，外存是100G，那虚拟内存的容量就是2的64次方和(8G+100G)两者的最小值。

   ##### 虚拟内存的页面项结构

   | 页号 | 页框号 | 状态位 | 访问字段 | 修改位 | 外存地址 |
   | :--- | :----- | :----- | :------- | :----- | :------- |
   | 0    | 10     | 1      | 10       | 0      | x        |

   页框号：状态位为1才有意义
   状态位：表示这个页号是否加载到了内存中，1表示在内存中，0表示不再内存中
   访问字段：表示最近访问的次数或者最近访问的时间，是给页面置换算法来用的
   修改字段：表示在内存中是否进行了修改，如果修改了换出时需要写回到外存，否则不用写回
   外存地址：这个页在外存的地址

   ###### 页面置换算法

   1. 最佳置换算法(OPT)
   2. 先进先出置换算法(FIFO)
   3. 最近最久未使用置换算法(LRU)
   4. 时钟置换算法(CLOCK)
   5. 改进时钟置换算法

   ##### 局部性原理

   局部性原理包括时间局部性和空间局部性。
   时间局部性是指程序最近运行了某条指令，那它最近还**很有可能**再次运行这条指令，如果程序最近访问了某个数据，那它最近还**很有可能**再次访问这条数据。(**这是由于程序中存在大量循环导致的**)
   空间局部性是指如果程序访问了某条数据，那它最近还**很可能**访问临近存储单元的数据。(**这是由于数据在内存中是连续存储导致的**)。

   #### 死锁

   ##### 四个必要条件

   1. 互斥
   2. 不可剥夺
   3. 请求和保持
   4. 循环等待

   ##### 处理策略

   ###### 死锁预防

   1. (**破坏不可剥夺**) 当进程申请新的资源得不到满足时，它必须释放掉保持的所有资源。
   2. (**破坏请求和保持**) 进程在运行之前申请完它所有需要的全部资源，在进程运行期间不再申请资源。
   3. (**破坏循环等待**) 将每个资源编上号，进程在申请资源时严格按照资源的编号递增的申请。

   ###### 死锁避免

   银行家算法

   ###### 死锁检测

   放任不管，在系统运行期间检测死锁。一旦发现有死锁产生，就采取必要措施，可以将某些线程挂起并剥夺它的资源，或者kill掉某些进程。

   #### FD文件描述符

   #### 进程调度算法

   - 先来先服务(FCFS)
   - 短作业优先
   - 优先级调度算法
     每次从就绪队列中选择优先级最高的进程，为它分配处理机资源，让它运行。根据是否可剥夺又分为非剥夺式优先级调度算法和剥夺式优先级调度算法。
   - 时间片流转调度算法
   - 多级反馈队列调度算法

   #### select poll epoll 区别

   [参考链接](https://segmentfault.com/a/1190000003063859) 还不是很懂，需要多看两遍